<style>
  .col_01{
    width: 320px;
  }
  .col_02{
    width: 200px;
  }
  .code_list .hd{
    margin-top: 20px;
  }
  .code_list .hd li {
    display: block;
    list-style: none;
    float: left;
    height: 36px;
    margin-right: 2px;
    color: #574e3f;
    font-size: 16px;
    font-weight: bolder;
    line-height: 36px;
    text-align: center;
  }
  .code_list .bd{}
  .code_list .bd li{
    height: 35px;
    line-height: 35px;
    border-bottom: 1px dashed #b7ab95;
    list-style: none;
  }
  .code_list .bd li span{
    margin-right: 2px;
    float: left;
    display: block;
    text-align: center;
    color: #5a5650;
  }
  .code_list .bd li i{
    cursor: pointer;
  }
  .code_list .bd li i:hover{
    background-color: #555;
  }
  .header h3{
    width: 100px;
    margin-left: 10px;
    float: left;
  }
  .header p{
    margin-top: 10px;
    line-height: 40px;
    float: right;
    vertical-align: bottom;
  }
  input[name='num']{
    background: #fff;
  }
</style>
<%- partial('sign/sidebar') %>
<div id="content">
  <div class="panel">
    <div class="inner">
      <div class="header clearfix">
        <h3>邀请码</h3>
        <p>生成<input class="input-small" type="number" value="1" name="num"/>个邀请码 <button class="btn btn-success" id="createInv">生成</button></p>
      </div>
      <% if (locals.codes && codes.length > 0) { %>
      <%- partial('sign/list', {
      codes: codes,
      pages: pages,
      current_pages: current_page,
      }) %>
      <% } else { %>
      <div class='inner'>
        <p>无邀请码</p>
      </div>
      <% } %>
    </div>
  </div>
</div>
<script>
  $("#createInv").click(function(){
    var num = $('[name="num"]').val() || 1;
    $.post('/invitation/'+num,function(data){
      location.href = '/invitation'
    })
  })
</script>